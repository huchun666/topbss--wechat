<ion-content (ionScroll)="scrollHandler($event)">
  <ion-refresher (ionRefresh)="refreshGetUnhandleSelfGiftList($event)">
		<ion-refresher-content></ion-refresher-content>
  </ion-refresher>
  <div class="gift-list">
		<!-- loading -->
		<div class="loading-wrapper" *ngIf="loadingShow">
			<div>
				<ion-spinner item-start [name]="load.spinner"></ion-spinner>
			</div>
			<div [innerHTML]="load.content"></div>
		</div>
		<div class="gift-item" *ngFor="let item of unhandleSeflGiftArray;let i = index">
			<dl>
				<dt><img [src]="item.imageName | handleGiftImage" alt=""></dt>
				<dd class="product-title">
					<h2>{{ item.giftName }}</h2>
					<span [ngClass]="item.className">{{ item.giftType | setGiftType: item.status }}</span>
				</dd>
				<dd class="reserve-phone">
					<span>预约手机：{{ item.reservePhone }}</span>
					<a href="tel:13761489650"><img src="./assets/image/phone.png"></a>
				</dd>
				<dd class="member-phone" *ngIf="item.giftType=='0'">会员手机：{{ item.memberPhone }}</dd>
				<dd class="get-time">领取时间：{{ item.receiveDate | date:'yyyy-MM-dd HH:mm:ss' }}</dd>
			</dl>
			<div class="reserve-time" *ngIf="item.giftType=='0' && item.status=='2'">
				<div class="time-text">
					<ion-datetime 
						placeholder="会员预约到店时间" 
						cancelText="取消" 
						doneText="确定" 
						displayFormat="YYYY-MM-DD HH:mm:ss" 
						[(ngModel)]="item.reserveShopTime">
					</ion-datetime>
					<span class="clear" *ngIf="item.reserveShopTime" (click)="clearReserveArriveTime(i)">X</span>
				</div>
				<div class="btn-time">
					<button ion-button round (touchend)="reserveAffirm(i)">预约确认</button>
				</div>
			</div>
			<div class="reserve-time" *ngIf="item.giftType=='0' && item.status=='3'">
				<div class="show-time">预约到店时间：{{ item.reserveShopTime | date:'yyyy-MM-dd HH:mm:ss' }}</div>
			</div>
		
		</div>
	</div>
	<div class="toTop" (click)="scrollTo()" *ngIf="toTop">
		<img src="./assets/image/toTop.png" alt="">
	</div>
  <div class="btn-selfview" (click)="goSelfgift()">
    <span>查看已兑换自提赠品</span>
	</div>
	<div class="no-data" *ngIf = "noData">
		<img src="./assets/image/nodata.png" alt="">
		<p>空空如也</p>
	</div>
	<div class="btn-noMore" *ngIf = "showNoMore">
		<span>—— 没有更多赠品了 ——</span>
	</div>
  <ion-infinite-scroll (ionInfinite)="infiniteGetUnhandleSelfGiftList($event)" *ngIf = "!showNoMore">
    <ion-infinite-scroll-content loadingText="加载更多..."></ion-infinite-scroll-content>
  </ion-infinite-scroll>
</ion-content>
